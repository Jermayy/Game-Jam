/* eslint-disable camelcase */
/* eslint-disable semi */
/* eslint-disable yoda */
/* eslint-disable curly */
/* eslint-disable prettier/prettier */
$(document).ready(()=>{function a(){$("#addGameInputName").val(""),$("#addGameGenre").val(""),$("#addGamePlatforms").val(""),$("#addGameYear").val(""),$("#addGamePublisher").val(""),$("#addGameGlobalSales").val(""),$("#addGameIGNScore").val("")}console.log("raedy");const b=[];if(0<$(".gameInfoOutputIGNScoreOutput").length){for(let a=0;a<$(".gameInfoOutputIGNScoreOutput").length;a++)b.push($(".gameInfoOutputIGNScoreOutput").eq(a).text());for(console.log(b),i=0;i<b.length;i++)7<=b[i]?$(".gameInfoOutputIGNScoreOutput").eq(i).addClass("bg-success text-light rounded"):5<=b[i]?$(".gameInfoOutputIGNScoreOutput").eq(i).addClass("bg-warning text-light rounded"):$(".gameInfoOutputIGNScoreOutput").eq(i).addClass("bg-danger text-light rounded")}window.onload=function(){const a=window.location.href.split("/");if("games"===a[a.length-2]){const b=a[a.length-1].split("%20").join(" ");$("#gameSearch").attr("value",b)}else if("gamesgenre"===a[a.length-3]){const b=a[a.length-2].split("%20").join(" ");$("#gameSearch").attr("value",b),$("#genre option[value='"+a[a.length-1]+"']").attr("selected","selected")}else if("gamesplatforms"===a[a.length-3]){const b=a[a.length-2].split("%20").join(" "),c=a[a.length-1].split("%20").join(" ");$("#gameSearch").attr("value",b),$("#platforms option[value='"+c+"']").attr("selected","selected")}else if("gamesgenreplatform"===a[a.length-4]){const b=a[a.length-3].split("%20").join(" "),c=a[a.length-1].split("%20").join(" ");$("#gameSearch").attr("value",b),$("#platforms option[value='"+c+"']").attr("selected","selected"),$("#genre option[value='"+a[a.length-2]+"']").attr("selected","selected")}},$("#submitBtn").on("click",a=>{a.preventDefault();let b=$("#gameSearch").val().trim(),c=$("#genre").val();console.log(c);let d=$("#platforms").val();console.log(d);b&&("none"===c&&"none"===d?($.get("/api/games/"+b,a=>{console.log(a)}),window.location.replace("https://fullstackproject-2.herokuapp.com/api/games/"+b)):"none"===c?($.get("/api/gamesplatforms/"+b+"/"+d,a=>{console.log(a)}),window.location.replace("https://fullstackproject-2.herokuapp.com/api/gamesplatforms/"+b+"/"+d),b=b,d=d,c="none"):"none"===d?($.get("/api/gamesgenre/"+b+"/"+c,a=>{console.log(a)}),window.location.replace("https://fullstackproject-2.herokuapp.com/api/gamesgenre/"+b+"/"+c),b=b,c=c,d="none"):($.get("/api/gamesgenreplatform/"+b+"/"+c+"/"+d,a=>{console.log(a)}),window.location.replace("https://fullstackproject-2.herokuapp.com/api/gamesgenreplatform/"+b+"/"+c+"/"+d),b=b,c=c,d=d))}),$("#addGameButtton").on("click",b=>{if(b.preventDefault(),$("#addGameInputName").val().trim()&&"none"!==$("#addGamePlatforms").val()&&"none"!==$("#addGameGenre").val()&&$("#addGameYear").val().trim()&&$("#addGamePublisher").val().trim()&&$("#addGameGlobalSales").val().trim()&&$("#addGameIGNScore").val().trim()){const b={name:$("#addGameInputName").val().trim(),platform:$("#addGamePlatforms").val(),year:$("#addGameYear").val().trim(),genre:$("#addGameGenre").val(),publisher:$("#addGamePublisher").val().trim(),Global_Sales:$("#addGameGlobalSales").val().trim()};$.post("/api/games",b);const c={game:$("#addGameInputName").val().trim(),platform:$("#addGamePlatforms").val(),score:$("#addGameIGNScore").val().trim(),genre:$("#addGameGenre").val()};$.post("/api/scores",c),alert("New game has been added to the database"),a()}})});